<!DOCTYPE html>
<html lang="pt">

<head>
  <meta charset="utf-8">
  <title>Cadastro - FitTrack</title>
  <link rel="icon" href="images/favicon.png" type="image/png" sizes="16x16">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css" media="all" />
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
    }

    .form-horizontal .control-label {
      color: white;
    }

    .error-message {
      color: red;
      font-size: 20px;
    }

    .success-message {
      color: rgb(179, 255, 0);
      font-size: 20px;
    }

    .pitch-intro p {
      color: #ffffff !important;
      font-size: 14px;
      line-height: 1.5;
      letter-spacing: 0;
      font-family: 'Roboto', sans-serif;
    }

    .footer p {
      font-size: 13px;
      font-weight: 400;
      color: white;
      line-height: 1.3;
      margin: 10px 0 30px 0;
      font-family: 'Roboto', sans-serif;
    }

    .form-horizontal .form-group .form-control {
      height: 45px;
      font-size: 16px;
      padding: 10px;
      box-sizing: border-box;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    .form-horizontal .btn-primary {
      height: 45px;
      font-size: 16px;
      padding: 10px;
    }

    .cnpj-info {
      color: #ffcc00;
      font-size: 14px;
      text-align: center;
      margin-top: -10px;
      margin-bottom: 10px;
    }

    /* Definindo a cor padrão do texto */
    h1,
    h2,
    h3,
    .pitch-content p {
      color: rgb(0, 204, 255) !important;
    }

    /* Estilização do link de e-mail */
    a[href="mailto:suportefitrack@gmail.com"] {
      color: rgb(0, 204, 255) !important;
    }

    /* Estilo para a lista animada */
    ul.wow.fadeInUp li {
      color: rgb(0, 204, 255) !important;
    }

    /* Texto destacado */
    .highlighted-text {
      background-color: rgba(0, 0, 0, 0.5);
      color: rgb(0, 204, 255) !important;
      padding: 10px;
      border-radius: 5px;
    }

    /* Container para opções */
    .options-container {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
      margin-left: 50px;
    }

    /* Estilo das opções */
    .option {
      flex: 1;
      max-width: 400px;
    }

    /* Layout flexível para exercícios */
    .exercise-row {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
    }

    .exercise-row .col-md-6 {
      flex: 0 0 48%;
      max-width: 48%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      margin-bottom: 30px;
    }

    .exercise-row .col-md-12 {
      flex: 0 0 48%;
      max-width: 48%;
      margin-top: 20px;
    }

    /* Estilo do conteúdo e vídeos */
    .pitch-content,
    .video {
      width: 100%;
      margin-bottom: 30px;
    }

    /* Estilo do conteúdo do pitch */
    .pitch-content {
      background-color: #2c2f33;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }

    .pitch-content:hover {
      transform: translateY(-10px);
    }

    .pitch-content p {
      color: #b3b3b3;
      font-size: 16px;
    }

    /* Estilo dos vídeos */
    .video {
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 20px;
    }

    /* Flex layout para filas de itens */
    .row-flex {
      display: flex;
      flex-wrap: wrap;
    }

    .row-flex .col-md-6 {
      display: flex;
      flex-direction: column;
    }

    /* Estilo para o botão de abrir/fechar */
    #toggle-terms {
      background: none;
      border: none;
      color: #00ccff;
      text-decoration: underline;
      cursor: pointer;
      font-size: 14px;
    }

    /* Estilo para o texto dos termos */
    #terms-text {
      display: none;
      margin-top: 10px;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 5px;
      background-color: rgba(0, 0, 0, 0.8);
      color: #fff;
      font-size: 13px;
      line-height: 1.5;
      overflow-y: auto;
      max-height: 200px;
      /* Define uma altura máxima com rolagem */
      transition: all 0.3s ease-in-out;
    }

    /* Checkbox e link */
    .terms-label span {
      color: #fff;
      font-size: 14px;
    }

    .terms-label span a {
      color: #00ccff;
      text-decoration: underline;
    }

    .terms-label span a:hover {
      color: #00aaff;
    }
  </style>
</head>

<body>
  <div class="wrapper">
    <div class="container">
      <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
          <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
              data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand page-scroll" href="index.html"><img src="images/logo.png" width="80" height="30"
                alt="iLand" /></a>
          </div>
          <div class="collapse navbar-collapse navbar-right" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
              <li><a class="page-scroll" href="index.html">Início</a></li>
              <li><a href="#contact">Contato</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </div>

    <div class="main app form" id="main">
      <div class="hero-section">
        <div class="container nopadding">
          <div class="col-md-12">
            <div class="hero-content text-center">
              <h1>Cadastre-se no FitTrack</h1>
              <p class="highlighted-text">Preencha o formulário abaixo para criar sua conta.</p>
              <div id="error-message" class="error-message" style="display: none;"></div>
              <form class="form-horizontal" id="registerForm" action="php/cadastro_process.php" method="POST">
                <div class="form-group">
                  <label for="reg-name" class="col-sm-4 control-label">Nome</label>
                  <div class="col-sm-4">
                    <input type="text" class="form-control" id="reg-name" name="user_name" placeholder="Digite seu nome"
                      required>
                  </div>
                </div>
                <div class="form-group">
                  <label for="reg-email" class="col-sm-4 control-label">Email</label>
                  <div class="col-sm-4">
                    <input type="email" class="form-control" id="reg-email" name="email" placeholder="Digite seu email"
                      required>
                  </div>
                </div>
                <div class="form-group">
                  <label for="reg-password" class="col-sm-4 control-label">Senha</label>
                  <div class="col-sm-4">
                    <input type="password" class="form-control" id="reg-password" name="password"
                      placeholder="Digite sua senha" required>
                  </div>
                </div>
                <div class="form-group">
                  <label for="reg-confirm-password" class="col-sm-4 control-label">Confirmar Senha</label>
                  <div class="col-sm-4">
                    <input type="password" class="form-control" id="reg-confirm-password"
                      placeholder="Confirme sua senha" required>
                    <span id="password-error" class="error-message"></span>
                  </div>
                </div>
                <div class="form-group">
                  <label for="reg-cnpj" class="col-sm-4 control-label">CNPJ (somente para empresas)</label>
                  <div class="col-sm-4">
                    <input type="text" class="form-control" id="reg-cnpj" name="cnpj" placeholder="Digite seu CNPJ">
                  </div>
                </div>

                <div class="form-group" id="company-description-group" style="display: none;">
                  <label for="reg-description" class="col-sm-4 control-label">Carta de Apresentação (somente para
                    empresas)</label>
                  <div class="col-sm-4">
                    <input type="text" class="form-control" id="reg-description" name="description"
                      placeholder="Escreva uma breve carta de apresentação">
                  </div>
                </div>

                <div class="form-group">
                  <div class="col-sm-offset-4 col-sm-4">
                    <!-- Botão para abrir/fechar os termos -->
                    <button type="button" id="toggle-terms">Clique aqui para ver os termos de uso</button>

                    <!-- Conteúdo dos termos -->
                    <div id="terms-text">
                      <p><strong>Termos de Uso</strong></p>
                      <p>
                        <strong>Segurança, Saúde e Responsabilidade ao Utilizar o FitTrack:</strong><br><br>
                        A equipe FitTrack prioriza sua segurança e seu bem-estar. Para garantir que você aproveite ao
                        máximo nossas recomendações e minimize os riscos, pedimos atenção aos seguintes pontos:<br><br>
                        <strong>Execução Correta dos Exercícios:</strong><br>
                        A realização adequada dos exercícios é fundamental para evitar lesões e obter os resultados
                        esperados. Certifique-se de dominar a técnica de cada movimento antes de aumentar a intensidade
                        ou a carga.<br><br>
                        <strong>Seleção de Cargas Adequadas:</strong><br>
                        Utilize cargas que permitam a realização do exercício com controle total e sem comprometer a
                        técnica.<br><br>
                        <strong>Orientação Profissional Especializada:</strong><br>
                        Consulte profissionais certificados, como educadores físicos ou personal trainers, para ajustar
                        os exercícios às suas necessidades.<br><br>
                        <strong>Avaliação e Acompanhamento Médico:</strong><br>
                        Antes de iniciar qualquer programa de exercícios ou mudanças na alimentação, procure um
                        médico.<br><br>
                        <strong>Riscos e Isenção de Responsabilidade:</strong><br>
                        O FitTrack fornece orientações gerais, mas não substitui o acompanhamento profissional. Não nos
                        responsabilizamos por lesões, complicações de saúde ou quaisquer outros problemas decorrentes da
                        execução dos
                        exercícios ou práticas alimentares recomendadas pela plataforma. A adoção dessas orientações é
                        de sua total
                        responsabilidade.
                        <br><br>
                        <strong>Conclusão:</strong><br>
                        Treine com responsabilidade, priorizando sua saúde e respeitando seus limites.
                      </p>
                    </div>

                    <!-- Checkbox para aceitar os termos -->
                    <label class="terms-label">
                      <input type="checkbox" name="accept_terms" id="accept_terms" required>
                      <span>Eu li e concordo com os termos acima.</span>
                    </label>
                  </div>
                </div>



                <div class="form-group">
                  <div class="col-sm-offset-4 col-sm-4">
                    <button type="submit" class="btn btn-primary">Cadastrar</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="footer" id="contact">
      <div class="container">
        <div class="col-md-6 contact">
          <h1>Sobre Nós</h1>
          <p>O FitTrack foi criado por dois estudantes de Engenharia de Computação, Pedro Stefanini e Bruno Covolam
            Diniz, como um trabalho de conclusão de curso. O projeto tem como objetivo aproveitar a tecnologia para
            melhorar a qualidade de vida e a saúde das pessoas. Estamos comprometidos em desenvolver soluções inovadoras
            que promovam hábitos saudáveis e atendam às necessidades individuais de nossos usuários. </p>
        </div>
        <div class="col-md-3 contact footer-menu">

        </div>
        <div class="col-md-3 contact">
          <h1>Contate-nos</h1>
          <p>Entre em contato com nosso suporte ao cliente 24 horas por dia, 7 dias por semana, para tirar dúvidas ou
            compartilhar seu feedback. Estamos aqui para ajudar e melhorar sua experiência!</p>
          <a href="mailto:suportefitrack@gmail.com">suportefitrack@gmail.com</a>
        </div>
      </div>
    </div>

    <a id="back-top" class="back-to-top page-scroll" href="#main"> <i class="ion-ios-arrow-thin-up"></i> </a>
  </div>

  <script src="js/jquery-2.1.1.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/plugins.js"></script>
  <script src="js/menu.js"></script>
  <script src="js/custom.js"></script>
  <script src="js/jquery.subscribe.js"></script>
  <script>
    // Função para validar o CNPJ
    function validarCNPJ(cnpj) {
      cnpj = cnpj.replace(/[^\d]+/g, '');
      if (cnpj.length !== 14 || /^(\d)\1+$/.test(cnpj)) return false;

      let tamanho = cnpj.length - 2;
      let numeros = cnpj.substring(0, tamanho);
      let digitos = cnpj.substring(tamanho);
      let soma = 0, pos = tamanho - 7;

      for (let i = tamanho; i >= 1; i--) {
        soma += numeros.charAt(tamanho - i) * pos--;
        if (pos < 2) pos = 9;
      }

      let resultado = soma % 11 < 2 ? 0 : 11 - (soma % 11);
      if (resultado != digitos.charAt(0)) return false;

      tamanho += 1;
      numeros = cnpj.substring(0, tamanho);
      soma = 0;
      pos = tamanho - 7;

      for (let i = tamanho; i >= 1; i--) {
        soma += numeros.charAt(tamanho - i) * pos--;
        if (pos < 2) pos = 9;
      }

      resultado = soma % 11 < 2 ? 0 : 11 - (soma % 11);
      return resultado == digitos.charAt(1);
    }

    // Lógica de validação e envio do formulário
    document.getElementById("registerForm").addEventListener("submit", function (event) {
      event.preventDefault();
      const cnpj = document.getElementById("reg-cnpj").value;
      const password = document.getElementById("reg-password").value;
      const confirmPassword = document.getElementById("reg-confirm-password").value;
      const passwordError = document.getElementById("password-error");
      const errorMessageDiv = document.getElementById("error-message");
      const submitButton = document.querySelector("#registerForm button[type='submit']");

      passwordError.textContent = "";
      errorMessageDiv.style.display = 'none';
      submitButton.disabled = true;

      if (password.length < 8) {
        passwordError.textContent = "A senha deve ter pelo menos 8 caracteres.";
        submitButton.disabled = false;
        return;
      } else if (password !== confirmPassword) {
        passwordError.textContent = "As senhas não coincidem.";
        submitButton.disabled = false;
        return;
      }

      if (cnpj && !validarCNPJ(cnpj)) {
        errorMessageDiv.textContent = "CNPJ inválido. Por favor, insira um CNPJ válido.";
        errorMessageDiv.style.display = 'block';
        errorMessageDiv.classList.add("error-message");
        submitButton.disabled = false;
        return;
      }

      fetch('php/cadastro_process.php', {
        method: 'POST',
        body: new FormData(this)
      })
        .then(response => response.json())
        .then(data => {
          errorMessageDiv.textContent = data.message;
          errorMessageDiv.style.display = 'block';
          errorMessageDiv.classList.add(data.success ? "success-message" : "error-message");
          submitButton.disabled = false;
        })
        .catch(error => {
          console.error("Erro ao enviar o formulário:", error);
          errorMessageDiv.textContent = "Ocorreu um erro. Por favor, tente novamente.";
          errorMessageDiv.style.display = 'block';
          errorMessageDiv.classList.add("error-message");
          submitButton.disabled = false;
        });
    });
    // Função para monitorar o campo CNPJ
    document.getElementById("reg-cnpj").addEventListener("input", function () {
      const cnpjField = document.getElementById("reg-cnpj").value.trim();
      const descriptionGroup = document.getElementById("company-description-group");

      if (cnpjField.length > 0) {
        descriptionGroup.style.display = "block"; // Exibe o campo de descrição
      } else {
        descriptionGroup.style.display = "none"; // Oculta o campo de descrição
      }
    });

    document.getElementById("toggle-terms").addEventListener("click", function () {
      const termsText = document.getElementById("terms-text");
      if (termsText.style.display === "none" || termsText.style.display === "") {
        termsText.style.display = "block";
        this.textContent = "Clique aqui para esconder os termos de uso";
      } else {
        termsText.style.display = "none";
        this.textContent = "Clique aqui para ver os termos de uso";
      }
    });

  </script>


</body>

</html>